!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).vant={},e.Vue)}(this,(function(e,t){"use strict";function o(){}const a=Object.assign,n="undefined"!=typeof window,r=e=>null!==e&&"object"==typeof e,l=e=>null!=e,i=e=>"function"==typeof e,s=e=>r(e)&&i(e.then)&&i(e.catch),c=e=>"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime());function d(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const u=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function p(e,t){const o=t.split(".");let a=e;return o.forEach((e=>{var t;a=r(a)&&null!=(t=a[e])?t:""})),a}function v(e,t,o){return t.reduce(((t,a)=>(o&&void 0===e[a]||(t[a]=e[a]),t)),{})}const m=(e,t)=>JSON.stringify(e)===JSON.stringify(t),f=e=>Array.isArray(e)?e:[e],h=null,g=[Number,String],b={type:Boolean,default:!0},y=e=>({type:e,required:!0}),w=()=>({type:Array,default:()=>[]}),x=e=>({type:Number,default:e}),V=e=>({type:g,default:e}),N=e=>({type:String,default:e});var C="undefined"!=typeof window;function k(e){return C?requestAnimationFrame(e):-1}function S(e){C&&cancelAnimationFrame(e)}function T(e){k((()=>k(e)))}var B=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),P=e=>{const o=t.unref(e);if(o===window){const e=o.innerWidth,t=o.innerHeight;return B(e,t)}return(null==o?void 0:o.getBoundingClientRect)?o.getBoundingClientRect():B(0,0)};function D(e){const o=t.inject(e,null);if(o){const e=t.getCurrentInstance(),{link:a,unlink:n,internalChildren:r}=o;a(e),t.onUnmounted((()=>n(e)));return{parent:o,index:t.computed((()=>r.indexOf(e)))}}return{parent:null,index:t.ref(-1)}}var A=(e,t)=>{const o=e.indexOf(t);return-1===o?e.findIndex((e=>void 0!==t.key&&null!==t.key&&e.type===t.type&&e.key===t.key)):o};function O(e,o,a){const n=function(e){const o=[],a=e=>{Array.isArray(e)&&e.forEach((e=>{var n;t.isVNode(e)&&(o.push(e),(null==(n=e.component)?void 0:n.subTree)&&(o.push(e.component.subTree),a(e.component.subTree.children)),e.children&&a(e.children))}))};return a(e),o}(e.subTree.children);a.sort(((e,t)=>A(n,e.vnode)-A(n,t.vnode)));const r=a.map((e=>e.proxy));o.sort(((e,t)=>r.indexOf(e)-r.indexOf(t)))}function I(e){const o=t.reactive([]),a=t.reactive([]),n=t.getCurrentInstance();return{children:o,linkChildren:r=>{t.provide(e,Object.assign({link:e=>{e.proxy&&(a.push(e),o.push(e.proxy),O(n,o,a))},unlink:e=>{const t=a.indexOf(e);o.splice(t,1),a.splice(t,1)},children:o,internalChildren:a},r))}}}var z,E,L=1e3,$=60*L,M=60*$,F=24*M;function R(e){let o,a,n,r;const l=t.ref(e.time),i=t.computed((()=>{return{total:e=l.value,days:Math.floor(e/F),hours:Math.floor(e%F/M),minutes:Math.floor(e%M/$),seconds:Math.floor(e%$/L),milliseconds:Math.floor(e%L)};var e})),s=()=>{n=!1,S(o)},c=()=>Math.max(a-Date.now(),0),d=t=>{var o,a;l.value=t,null==(o=e.onChange)||o.call(e,i.value),0===t&&(s(),null==(a=e.onFinish)||a.call(e))},u=()=>{o=k((()=>{n&&(d(c()),l.value>0&&u())}))},p=()=>{o=k((()=>{if(n){const o=c();e=o,t=l.value,(Math.floor(e/1e3)!==Math.floor(t/1e3)||0===o)&&d(o),l.value>0&&p()}var e,t}))},v=()=>{C&&(e.millisecond?u():p())};return t.onBeforeUnmount(s),t.onActivated((()=>{r&&(n=!0,r=!1,v())})),t.onDeactivated((()=>{n&&(s(),r=!0)})),{start:()=>{n||(a=Date.now()+l.value,n=!0,v())},pause:s,reset:(t=e.time)=>{s(),l.value=t},current:i}}function H(e){let o;t.onMounted((()=>{e(),t.nextTick((()=>{o=!0}))})),t.onActivated((()=>{o&&e()}))}function j(e,o,a={}){if(!C)return;const{target:n=window,passive:r=!1,capture:l=!1}=a;let i,s=!1;const c=a=>{if(s)return;const n=t.unref(a);n&&!i&&(n.addEventListener(e,o,{capture:l,passive:r}),i=!0)},d=a=>{if(s)return;const n=t.unref(a);n&&i&&(n.removeEventListener(e,o,l),i=!1)};let u;return t.onUnmounted((()=>d(n))),t.onDeactivated((()=>d(n))),H((()=>c(n))),t.isRef(n)&&(u=t.watch(n,((e,t)=>{d(t),c(e)}))),()=>{null==u||u(),d(n),s=!0}}function W(e,o,a={}){if(!C)return;const{eventName:n="click"}=a;j(n,(a=>{(Array.isArray(e)?e:[e]).every((e=>{const o=t.unref(e);return o&&!o.contains(a.target)}))&&o(a)}),{target:document})}var U,Y=/scroll|auto|overlay/i,X=C?window:void 0;function q(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function G(e,t=X){let o=e;for(;o&&o!==t&&q(o);){const{overflowY:e}=window.getComputedStyle(o);if(Y.test(e))return o;o=o.parentNode}return t}function Z(e,o=X){const a=t.ref();return t.onMounted((()=>{e.value&&(a.value=G(e.value,o))})),a}var K=Symbol("van-field");function _(e){const o=t.inject(K,null);o&&!o.customValue.value&&(o.customValue.value=e,t.watch(e,(()=>{o.resetValidation(),o.validateWithTrigger("onChange")})))}function J(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Q(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function ee(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function te(e){Q(window,e),Q(document.body,e)}function oe(e,t){if(e===window)return 0;const o=t?J(t):ee();return P(e).top+o}const ae=!!n&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function ne(){ae&&te(ee())}const re=e=>e.stopPropagation();function le(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&re(e)}function ie(e){const o=t.unref(e);if(!o)return!1;const a=window.getComputedStyle(o),n="none"===a.display,r=null===o.offsetParent&&"fixed"!==a.position;return n||r}const{width:se,height:ce}=function(){if(!z&&(z=t.ref(0),E=t.ref(0),C)){const e=()=>{z.value=window.innerWidth,E.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:z,height:E}}();function de(e){const t=window.getComputedStyle(e);return"none"!==t.transform||"none"!==t.perspective||["transform","perspective","filter"].some((e=>(t.willChange||"").includes(e)))}function ue(e){if(l(e))return u(e)?`${e}px`:String(e)}function pe(e){if(l(e)){if(Array.isArray(e))return{width:ue(e[0]),height:ue(e[1])};const t=ue(e);return{width:t,height:t}}}function ve(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let me;function fe(e){return+(e=e.replace(/rem/g,""))*function(){if(!me){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;me=parseFloat(t)}return me}()}function he(e){if("number"==typeof e)return e;if(n){if(e.includes("rem"))return fe(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*se.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*ce.value/100}(e)}return parseFloat(e)}const ge=/-(\w)/g,be=e=>e.replace(ge,((e,t)=>t.toUpperCase()));function ye(e,t=2){let o=e+"";for(;o.length<t;)o="0"+o;return o}const we=(e,t,o)=>Math.min(Math.max(e,t),o);function xe(e,t,o){const a=e.indexOf(t);return-1===a?e:"-"===t&&0!==a?e.slice(0,a):e.slice(0,a+1)+e.slice(a).replace(o,"")}function Ve(e,t=!0,o=!0){e=t?xe(e,".",/\./g):e.split(".")[0];const a=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=o?xe(e,"-",/-/g):e.replace(/-/,"")).replace(a,"")}function Ne(e,t){const o=10**10;return Math.round((e+t)*o)/o}const{hasOwnProperty:Ce}=Object.prototype;function ke(e,t){return Object.keys(t).forEach((o=>{!function(e,t,o){const a=t[o];l(a)&&(Ce.call(e,o)&&r(a)?e[o]=ke(Object(e[o]),a):e[o]=a)}(e,t,o)})),e}const Se=t.ref("zh-CN"),Te=t.reactive({"zh-CN":{name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}}}),Be={messages:()=>Te[Se.value],use(e,t){Se.value=e,this.add({[e]:t})},add(e={}){ke(Te,e)}};var Pe=Be;function De(e){const t=be(e)+".";return(e,...o)=>{const a=Pe.messages(),n=p(a,t+e)||p(a,e);return i(n)?n(...o):n}}function Ae(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce(((t,o)=>t+Ae(e,o)),""):Object.keys(t).reduce(((o,a)=>o+(t[a]?Ae(e,a):"")),""):""}function Oe(e){return(t,o)=>(t&&"string"!=typeof t&&(o=t,t=""),`${t=t?`${e}__${t}`:e}${Ae(t,o)}`)}function Ie(e){const t=`van-${e}`;return[t,Oe(t),De(t)]}const ze="van-hairline",Ee=`${ze}--top`,Le=`${ze}--left`,$e=`${ze}--right`,Me=`${ze}--bottom`,Fe=`${ze}--surround`,Re=`${ze}--top-bottom`,He=`${ze}-unset--top-bottom`,je="van-haptics-feedback",We=Symbol("van-form"),Ue=5;function Ye(e,{args:t=[],done:a,canceled:n,error:r}){if(e){const l=e.apply(null,t);s(l)?l.then((e=>{e?a():n&&n()})).catch(r||o):l?a():n&&n()}else a()}function Xe(e){return e.install=t=>{const{name:o}=e;o&&(t.component(o,e),t.component(be(`-${o}`),e))},e}function qe(e,t){return e.reduce(((e,o)=>Math.abs(e-t)<Math.abs(o-t)?e:o))}const Ge=Symbol();function Ze(e){const o=t.inject(Ge,null);o&&t.watch(o,(t=>{t&&e()}))}const Ke=(e,o)=>{const a=t.ref(),n=()=>{a.value=P(e).height};return t.onMounted((()=>{if(t.nextTick(n),o)for(let e=1;e<=3;e++)setTimeout(n,100*e)})),Ze((()=>t.nextTick(n))),t.watch([se,ce],n),a};function _e(e,o){const a=Ke(e,!0);return e=>t.createVNode("div",{class:o("placeholder"),style:{height:a.value?`${a.value}px`:void 0}},[e()])}const[Je,Qe]=Ie("action-bar"),et=Symbol(Je),tt={placeholder:Boolean,safeAreaInsetBottom:b};const ot=Xe(t.defineComponent({name:Je,props:tt,setup(e,{slots:o}){const a=t.ref(),n=_e(a,Qe),{linkChildren:r}=I(et);r();const l=()=>{var n;return t.createVNode("div",{ref:a,class:[Qe(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(n=o.default)?void 0:n.call(o)])};return()=>e.placeholder?n(l):l()}}));function at(e){const o=t.getCurrentInstance();o&&a(o.proxy,e)}const nt={to:[String,Object],url:String,replace:Boolean};function rt({to:e,url:t,replace:o,$router:a}){e&&a?a[o?"replace":"push"](e):t&&(o?location.replace(t):location.href=t)}function lt(){const e=t.getCurrentInstance().proxy;return()=>rt(e)}const[it,st]=Ie("badge"),ct={dot:Boolean,max:g,tag:N("div"),color:String,offset:Array,content:g,showZero:b,position:N("top-right")};const dt=Xe(t.defineComponent({name:it,props:ct,setup(e,{slots:o}){const a=()=>{if(o.content)return!0;const{content:t,showZero:a}=e;return l(t)&&""!==t&&(a||0!==t&&"0"!==t)},n=()=>{const{dot:t,max:n,content:r}=e;if(!t&&a())return o.content?o.content():l(n)&&u(r)&&+r>+n?`${n}+`:r},r=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,i=t.computed((()=>{const t={background:e.color};if(e.offset){const[a,n]=e.offset,{position:l}=e,[i,s]=l.split("-");o.default?(t[i]="number"==typeof n?ue("top"===i?n:-n):"top"===i?ue(n):r(n),t[s]="number"==typeof a?ue("left"===s?a:-a):"left"===s?ue(a):r(a)):(t.marginTop=ue(n),t.marginLeft=ue(a))}return t})),s=()=>{if(a()||e.dot)return t.createVNode("div",{class:st([e.position,{dot:e.dot,fixed:!!o.default}]),style:i.value},[n()])};return()=>{if(o.default){const{tag:a}=e;return t.createVNode(a,{class:st("wrapper")},{default:()=>[o.default(),s()]})}return s()}}}));let ut=2e3;const[pt,vt]=Ie("config-provider"),mt=Symbol(pt),ft={tag:N("div"),theme:N("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:N("local"),iconPrefix:String};function ht(e={},t={}){Object.keys(e).forEach((o=>{e[o]!==t[o]&&document.documentElement.style.setProperty(o,e[o])})),Object.keys(t).forEach((t=>{e[t]||document.documentElement.style.removeProperty(t)}))}var gt=t.defineComponent({name:pt,props:ft,setup(e,{slots:o}){const r=t.computed((()=>function(e){const t={};return Object.keys(e).forEach((o=>{const a=o.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"").replace(/([a-zA-Z])(\d)/g,"$1-$2");t[`--van-${a}`]=e[o]})),t}(a({},e.themeVars,"dark"===e.theme?e.themeVarsDark:e.themeVarsLight))));if(n){const o=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},a=(t=e.theme)=>{document.documentElement.classList.remove(`van-theme-${t}`)};t.watch((()=>e.theme),((e,t)=>{t&&a(t),o()}),{immediate:!0}),t.onActivated(o),t.onDeactivated(a),t.onBeforeUnmount(a),t.watch(r,((t,o)=>{"global"===e.themeVarsScope&&ht(t,o)})),t.watch((()=>e.themeVarsScope),((e,t)=>{"global"===t&&ht({},r.value),"global"===e&&ht(r.value,{})})),"global"===e.themeVarsScope&&ht(r.value,{})}return t.provide(mt,e),t.watchEffect((()=>{var t;void 0!==e.zIndex&&(t=e.zIndex,ut=t)})),()=>t.createVNode(e.tag,{class:vt(),style:"local"===e.themeVarsScope?r.value:void 0},{default:()=>{var e;return[null==(e=o.default)?void 0:e.call(o)]}})}});const[bt,yt]=Ie("icon"),wt={dot:Boolean,tag:N("i"),name:String,size:g,badge:g,color:String,badgeProps:Object,classPrefix:String};const xt=Xe(t.defineComponent({name:bt,props:wt,setup(e,{slots:o}){const a=t.inject(mt,null),n=t.computed((()=>e.classPrefix||(null==a?void 0:a.iconPrefix)||yt()));return()=>{const{tag:a,dot:r,name:l,size:i,badge:s,color:c}=e,d=(e=>null==e?void 0:e.includes("/"))(l);return t.createVNode(dt,t.mergeProps({dot:r,tag:a,class:[n.value,d?"":`${n.value}-${l}`],style:{color:c,fontSize:ue(i)},content:s},e.badgeProps),{default:()=>{var e;return[null==(e=o.default)?void 0:e.call(o),d&&t.createVNode("img",{class:yt("image"),src:l},null)]}})}}}));var Vt=xt;const[Nt,Ct]=Ie("loading"),kt=Array(12).fill(null).map(((e,o)=>t.createVNode("i",{class:Ct("line",String(o+1))},null))),St=t.createVNode("svg",{class:Ct("circular"),viewBox:"25 25 50 50"},[t.createVNode("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),Tt={size:g,type:N("circular"),color:String,vertical:Boolean,textSize:g,textColor:String};const Bt=Xe(t.defineComponent({name:Nt,props:Tt,setup(e,{slots:o}){const n=t.computed((()=>a({color:e.color},pe(e.size)))),r=()=>{const a="spinner"===e.type?kt:St;return t.createVNode("span",{class:Ct("spinner",e.type),style:n.value},[o.icon?o.icon():a])},l=()=>{var a;if(o.default)return t.createVNode("span",{class:Ct("text"),style:{fontSize:ue(e.textSize),color:null!=(a=e.textColor)?a:e.color}},[o.default()])};return()=>{const{type:o,vertical:a}=e;return t.createVNode("div",{class:Ct([o,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[r(),l()])}}})),[Pt,Dt]=Ie("button"),At=a({},nt,{tag:N("button"),text:String,icon:String,type:N("default"),size:N("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:N("button"),loadingSize:g,loadingText:String,loadingType:String,iconPosition:N("left")});const Ot=Xe(t.defineComponent({name:Pt,props:At,emits:["click"],setup(e,{emit:o,slots:a}){const n=lt(),r=()=>e.loading?a.loading?a.loading():t.createVNode(Bt,{size:e.loadingSize,type:e.loadingType,class:Dt("loading")},null):a.icon?t.createVNode("div",{class:Dt("icon")},[a.icon()]):e.icon?t.createVNode(xt,{name:e.icon,class:Dt("icon"),classPrefix:e.iconPrefix},null):void 0,l=()=>{let o;if(o=e.loading?e.loadingText:a.default?a.default():e.text,o)return t.createVNode("span",{class:Dt("text")},[o])},i=()=>{const{color:t,plain:o}=e;if(t){const e={color:o?t:"white"};return o||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},s=t=>{e.loading?le(t):e.disabled||(o("click",t),n())};return()=>{const{tag:o,type:a,size:n,block:c,round:d,plain:u,square:p,loading:v,disabled:m,hairline:f,nativeType:h,iconPosition:g}=e,b=[Dt([a,n,{plain:u,block:c,round:d,square:p,loading:v,disabled:m,hairline:f}]),{[Fe]:f}];return t.createVNode(o,{type:h,class:b,style:i(),disabled:m,onClick:s},{default:()=>[t.createVNode("div",{class:Dt("content")},["left"===g&&r(),l(),"right"===g&&r()])]})}}})),[It,zt]=Ie("action-bar-button"),Et=a({},nt,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});const Lt=Xe(t.defineComponent({name:It,props:Et,setup(e,{slots:o}){const a=lt(),{parent:n,index:r}=D(et),l=t.computed((()=>{if(n){const e=n.children[r.value-1];return!(e&&"isButton"in e)}})),i=t.computed((()=>{if(n){const e=n.children[r.value+1];return!(e&&"isButton"in e)}}));return at({isButton:!0}),()=>{const{type:n,icon:r,text:s,color:c,loading:d,disabled:u}=e;return t.createVNode(Ot,{class:zt([n,{last:i.value,first:l.value}]),size:"large",type:n,icon:r,color:c,loading:d,disabled:u,onClick:a},{default:()=>[o.default?o.default():s]})}}})),[$t,Mt]=Ie("action-bar-icon"),Ft=a({},nt,{dot:Boolean,text:String,icon:String,color:String,badge:g,iconClass:h,badgeProps:Object,iconPrefix:String});const Rt=Xe(t.defineComponent({name:$t,props:Ft,setup(e,{slots:o}){const a=lt();D(et);const n=()=>{const{dot:a,badge:n,icon:r,color:l,iconClass:i,badgeProps:s,iconPrefix:c}=e;return o.icon?t.createVNode(dt,t.mergeProps({dot:a,class:Mt("icon"),content:n},s),{default:o.icon}):t.createVNode(xt,{tag:"div",dot:a,name:r,badge:n,color:l,class:[Mt("icon"),i],badgeProps:s,classPrefix:c},null)};return()=>t.createVNode("div",{role:"button",class:Mt(),tabindex:0,onClick:a},[n(),o.default?o.default():e.text])}})),Ht={show:Boolean,zIndex:g,overlay:b,duration:g,teleport:[String,Object],lockScroll:b,lazyRender:b,beforeClose:Function,overlayStyle:Object,overlayClass:h,transitionAppear:Boolean,closeOnClickOverlay:b},jt=Object.keys(Ht);function Wt(){const e=t.ref(0),o=t.ref(0),a=t.ref(0),n=t.ref(0),r=t.ref(0),l=t.ref(0),i=t.ref(""),s=t.ref(!0),c=()=>{a.value=0,n.value=0,r.value=0,l.value=0,i.value="",s.value=!0};return{move:t=>{const c=t.touches[0];a.value=(c.clientX<0?0:c.clientX)-e.value,n.value=c.clientY-o.value,r.value=Math.abs(a.value),l.value=Math.abs(n.value);var d,u;(!i.value||r.value<10&&l.value<10)&&(i.value=(d=r.value,u=l.value,d>u?"horizontal":u>d?"vertical":"")),s.value&&(r.value>Ue||l.value>Ue)&&(s.value=!1)},start:t=>{c(),e.value=t.touches[0].clientX,o.value=t.touches[0].clientY},reset:c,startX:e,startY:o,deltaX:a,deltaY:n,offsetX:r,offsetY:l,direction:i,isVertical:()=>"vertical"===i.value,isHorizontal:()=>"horizontal"===i.value,isTap:s}}let Ut=0;const Yt="van-overflow-hidden";function Xt(e,o){const a=Wt(),n=t=>{a.move(t);const o=a.deltaY.value>0?"10":"01",n=G(t.target,e.value),{scrollHeight:r,offsetHeight:l,scrollTop:i}=n;let s="11";0===i?s=l>=r?"00":"01":i+l>=r&&(s="10"),"11"===s||!a.isVertical()||parseInt(s,2)&parseInt(o,2)||le(t,!0)},r=()=>{document.addEventListener("touchstart",a.start),document.addEventListener("touchmove",n,{passive:!1}),Ut||document.body.classList.add(Yt),Ut++},l=()=>{Ut&&(document.removeEventListener("touchstart",a.start),document.removeEventListener("touchmove",n),Ut--,Ut||document.body.classList.remove(Yt))},i=()=>o()&&l();H((()=>o()&&r())),t.onDeactivated(i),t.onBeforeUnmount(i),t.watch(o,(e=>{e?r():l()}))}function qt(e){const o=t.ref(!1);return t.watch(e,(e=>{e&&(o.value=e)}),{immediate:!0}),e=>()=>o.value?e():null}const Gt=()=>{var e;const{scopeId:o}=(null==(e=t.getCurrentInstance())?void 0:e.vnode)||{};return o?{[o]:""}:null},[Zt,Kt]=Ie("overlay"),_t={show:Boolean,zIndex:g,duration:g,className:h,lockScroll:b,lazyRender:b,customStyle:Object,teleport:[String,Object]};const Jt=Xe(t.defineComponent({name:Zt,props:_t,setup(e,{slots:o}){const n=t.ref(),r=qt((()=>e.show||!e.lazyRender))((()=>{var r;const i=a(ve(e.zIndex),e.customStyle);return l(e.duration)&&(i.animationDuration=`${e.duration}s`),t.withDirectives(t.createVNode("div",{ref:n,style:i,class:[Kt(),e.className]},[null==(r=o.default)?void 0:r.call(o)]),[[t.vShow,e.show]])}));return j("touchmove",(t=>{e.lockScroll&&le(t,!0)}),{target:n}),()=>{const o=t.createVNode(t.Transition,{name:"van-fade",appear:!0},{default:r});return e.teleport?t.createVNode(t.Teleport,{to:e.teleport},{default:()=>[o]}):o}}})),Qt=a({},Ht,{round:Boolean,position:N("center"),closeIcon:N("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:N("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[eo,to]=Ie("popup");const oo=Xe(t.defineComponent({name:eo,inheritAttrs:!1,props:Qt,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:o,attrs:a,slots:n}){let r,i;const s=t.ref(),c=t.ref(),d=qt((()=>e.show||!e.lazyRender)),u=t.computed((()=>{const t={zIndex:s.value};if(l(e.duration)){t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`}return t})),p=()=>{r||(r=!0,s.value=void 0!==e.zIndex?+e.zIndex:++ut,o("open"))},v=()=>{r&&Ye(e.beforeClose,{done(){r=!1,o("close"),o("update:show",!1)}})},m=t=>{o("clickOverlay",t),e.closeOnClickOverlay&&v()},f=()=>{if(e.overlay)return t.createVNode(Jt,t.mergeProps({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},Gt(),{onClick:m}),{default:n["overlay-content"]})},h=e=>{o("clickCloseIcon",e),v()},g=()=>{if(e.closeable)return t.createVNode(xt,{role:"button",tabindex:0,name:e.closeIcon,class:[to("close-icon",e.closeIconPosition),je],classPrefix:e.iconPrefix,onClick:h},null)};let b;const y=()=>{b&&clearTimeout(b),b=setTimeout((()=>{o("opened")}))},w=()=>o("closed"),x=e=>o("keydown",e),V=d((()=>{var o;const{round:r,position:l,safeAreaInsetTop:i,safeAreaInsetBottom:s}=e;return t.withDirectives(t.createVNode("div",t.mergeProps({ref:c,style:u.value,role:"dialog",tabindex:0,class:[to({round:r,[l]:l}),{"van-safe-area-top":i,"van-safe-area-bottom":s}],onKeydown:x},a,Gt()),[null==(o=n.default)?void 0:o.call(n),g()]),[[t.vShow,e.show]])})),N=()=>{const{position:o,transition:a,transitionAppear:n}=e,r="center"===o?"van-fade":`van-popup-slide-${o}`;return t.createVNode(t.Transition,{name:a||r,appear:n,onAfterEnter:y,onAfterLeave:w},{default:V})};return t.watch((()=>e.show),(e=>{e&&!r&&(p(),0===a.tabindex&&t.nextTick((()=>{var e;null==(e=c.value)||e.focus()}))),!e&&r&&(r=!1,o("close"))})),at({popupRef:c}),Xt(c,(()=>e.show&&e.lockScroll)),j("popstate",(()=>{e.closeOnPopstate&&(v(),i=!1)})),t.onMounted((()=>{e.show&&p()})),t.onActivated((()=>{i&&(o("update:show",!0),i=!1)})),t.onDeactivated((()=>{e.show&&e.teleport&&(v(),i=!0)})),t.provide(Ge,(()=>e.show)),()=>e.teleport?t.createVNode(t.Teleport,{to:e.teleport},{default:()=>[f(),N()]}):t.createVNode(t.Fragment,null,[f(),N()])}})),[ao,no]=Ie("action-sheet"),ro=a({},Ht,{title:String,round:b,actions:w(),closeIcon:N("cross"),closeable:b,cancelText:String,description:String,closeOnPopstate:b,closeOnClickAction:Boolean,safeAreaInsetBottom:b}),lo=[...jt,"round","closeOnPopstate","safeAreaInsetBottom"];const io=Xe(t.defineComponent({name:ao,props:ro,emits:["select","cancel","update:show"],setup(e,{slots:o,emit:a}){const n=e=>a("update:show",e),r=()=>{n(!1),a("cancel")},l=()=>{if(e.title)return t.createVNode("div",{class:no("header")},[e.title,e.closeable&&t.createVNode(xt,{name:e.closeIcon,class:[no("close"),je],onClick:r},null)])},i=()=>{if(o.cancel||e.cancelText)return[t.createVNode("div",{class:no("gap")},null),t.createVNode("button",{type:"button",class:no("cancel"),onClick:r},[o.cancel?o.cancel():e.cancelText])]},s=e=>{if(e.icon)return t.createVNode(xt,{class:no("item-icon"),name:e.icon},null)},c=(e,a)=>e.loading?t.createVNode(Bt,{class:no("loading-icon")},null):o.action?o.action({action:e,index:a}):[t.createVNode("span",{class:no("name")},[e.name]),e.subname&&t.createVNode("div",{class:no("subname")},[e.subname])],d=(o,r)=>{const{color:l,loading:i,callback:d,disabled:u,className:p}=o;return t.createVNode("button",{type:"button",style:{color:l},class:[no("item",{loading:i,disabled:u}),p],onClick:()=>{u||i||(d&&d(o),e.closeOnClickAction&&n(!1),t.nextTick((()=>a("select",o,r))))}},[s(o),c(o,r)])},u=()=>{if(e.description||o.description){const a=o.description?o.description():e.description;return t.createVNode("div",{class:no("description")},[a])}};return()=>t.createVNode(oo,t.mergeProps({class:no(),position:"bottom","onUpdate:show":n},v(e,lo)),{default:()=>{var a;return[l(),u(),t.createVNode("div",{class:no("content")},[e.actions.map(d),null==(a=o.default)?void 0:a.call(o)]),i()]}})}})),[so,co,uo]=Ie("picker"),po=e=>e.find((e=>!e.disabled))||e[0];function vo(e,t){for(let o=t=we(t,0,e.length);o<e.length;o++)if(!e[o].disabled)return o;for(let o=t-1;o>=0;o--)if(!e[o].disabled)return o;return 0}const mo=(e,t,o)=>void 0!==t&&!!e.find((e=>e[o.value]===t));function fo(e,t,o){const a=e.findIndex((e=>e[o.value]===t));return e[vo(e,a)]}const[ho,go]=Ie("picker-column"),bo=Symbol(ho);var yo=t.defineComponent({name:ho,props:{value:g,fields:y(Object),options:w(),readonly:Boolean,allowHtml:Boolean,optionHeight:y(Number),swipeDuration:y(g),visibleOptionNum:y(g)},emits:["change","clickOption","scrollInto"],setup(e,{emit:o,slots:a}){let n,r,l,i,s;const c=t.ref(),d=t.ref(),u=t.ref(0),p=t.ref(0),v=Wt(),m=()=>e.options.length,f=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,h=t=>{let a=vo(e.options,t);const r=-a*e.optionHeight,l=()=>{a>m()-1&&(a=vo(e.options,t));const n=e.options[a][e.fields.value];n!==e.value&&o("change",n)};n&&r!==u.value?s=l:l(),u.value=r},g=()=>e.readonly||!e.options.length,b=t=>we(Math.round(-t/e.optionHeight),0,m()-1),y=t.computed((()=>b(u.value))),w=()=>{n=!1,p.value=0,s&&(s(),s=null)},x=e=>{if(!g()){if(v.start(e),n){const e=function(e){const{transform:t}=window.getComputedStyle(e),o=t.slice(7,t.length-1).split(", ")[5];return Number(o)}(d.value);u.value=Math.min(0,e-f())}p.value=0,r=u.value,l=Date.now(),i=r,s=null}},V=()=>{if(g())return;const t=u.value-i,o=Date.now()-l;if(o<300&&Math.abs(t)>15)return void((t,o)=>{const a=Math.abs(t/o);t=u.value+a/.003*(t<0?-1:1);const n=b(t);p.value=+e.swipeDuration,h(n)})(t,o);const a=b(u.value);p.value=200,h(a),setTimeout((()=>{n=!1}),0)},N=()=>{const r={height:`${e.optionHeight}px`};return e.options.map(((l,i)=>{const c=l[e.fields.text],{disabled:d}=l,u=l[e.fields.value],v={role:"button",style:r,tabindex:d?-1:0,class:[go("item",{disabled:d,selected:u===e.value}),l.className],onClick:()=>(t=>{n||g()||(s=null,p.value=200,h(t),o("clickOption",e.options[t]))})(i)},m={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:c};return t.createVNode("li",v,[a.option?a.option(l,i):t.createVNode("div",m,null)])}))};return D(bo),at({stopMomentum:w}),t.watchEffect((()=>{const t=n?Math.floor(-u.value/e.optionHeight):e.options.findIndex((t=>t[e.fields.value]===e.value)),o=vo(e.options,t),a=-o*e.optionHeight;n&&o<t&&w(),u.value=a})),j("touchmove",(t=>{if(g())return;v.move(t),v.isVertical()&&(n=!0,le(t,!0));const a=we(r+v.deltaY.value,-m()*e.optionHeight,e.optionHeight),s=b(a);s!==y.value&&o("scrollInto",e.options[s]),u.value=a;const c=Date.now();c-l>300&&(l=c,i=a)}),{target:c}),()=>t.createVNode("div",{ref:c,class:go(),onTouchstartPassive:x,onTouchend:V,onTouchcancel:V},[t.createVNode("ul",{ref:d,style:{transform:`translate3d(0, ${u.value+f()}px, 0)`,transitionDuration:`${p.value}ms`,transitionProperty:p.value?"all":"none"},class:go("wrapper"),onTransitionend:w},[N()])])}});const[wo]=Ie("picker-toolbar"),xo={title:String,cancelButtonText:String,confirmButtonText:String},Vo=["cancel","confirm","title","toolbar"],No=Object.keys(xo);var Co=t.defineComponent({name:wo,props:xo,emits:["confirm","cancel"],setup(e,{emit:o,slots:a}){const n=()=>o("cancel"),r=()=>o("confirm"),l=()=>{var o;const r=null!=(o=e.cancelButtonText)?o:uo("cancel");if(a.cancel||r)return t.createVNode("button",{type:"button",class:[co("cancel"),je],onClick:n},[a.cancel?a.cancel():r])},i=()=>{var o;const n=null!=(o=e.confirmButtonText)?o:uo("confirm");if(a.confirm||n)return t.createVNode("button",{type:"button",class:[co("confirm"),je],onClick:r},[a.confirm?a.confirm():n])};return()=>t.createVNode("div",{class:co("toolbar")},[a.toolbar?a.toolbar():[l(),a.title?a.title():e.title?t.createVNode("div",{class:[co("title"),"van-ellipsis"]},[e.title]):void 0,i()]])}});const ko=(e,o)=>{const a=t.ref(e());return t.watch(e,(e=>{e!==a.value&&(a.value=e)})),t.watch(a,(t=>{t!==e()&&o(t)})),a},So=Array.isArray,To=e=>"string"==typeof e,Bo=e=>null!==e&&"object"==typeof e,Po=/\B([A-Z])/g,Do=(e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))})((e=>e.replace(Po,"-$1").toLowerCase()));
